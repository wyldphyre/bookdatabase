{% extends "base.html" %}

{% block title %}Search - Book Database{% endblock %}

{% block content %}
<h1>Search</h1>

<form action="{{ url_for('search') }}" method="get">
    <input type="search" name="q" placeholder="Search books, authors, or series..."
           value="{{ query }}"
           hx-get="{{ url_for('search') }}"
           hx-trigger="keyup changed delay:300ms"
           hx-target="#search-results"
           hx-push-url="true"
           hx-include="[name=tags]">
    <label>
        <input type="checkbox" name="tags" value="1" {% if include_tags %}checked{% endif %}
               hx-get="{{ url_for('search') }}"
               hx-trigger="change"
               hx-target="#search-results"
               hx-push-url="true"
               hx-include="[name=q]">
        Include tags in search
    </label>
</form>

<div id="search-results">
    {% include "search_results.html" %}
</div>
{% endblock %}
